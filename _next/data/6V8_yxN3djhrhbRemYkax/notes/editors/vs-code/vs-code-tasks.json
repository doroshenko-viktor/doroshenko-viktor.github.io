{"pageProps":{"noteKey":["editors","vs-code","vs-code-tasks"],"note":{"title":"Tasks In Visual Studio Code","date":"2022-06-05","content":"\n<p>Workspace or folder specific <code>tasks</code> are configured from the <code>tasks.json</code> file in the <code>.vscode</code> folder for a <code>workspace</code>.</p>\n<p>\n  To create a new task in project select in <code>Terminal</code> menu <code>Configure tasks</code> option or in command\n  pallet type: <code>Tasks: Configure Task</code>.\n</p>\n<h2>Binding Tasks</h2>\n<p>\n  Tasks may be binded to some key combinations.\n  It may be achieved with various default actions. For example we can bind specific build task to the\n  editor's build action. To do that, we can type <code>Tasks: Configure Default Build Task</code> in command\n  pallet and select necessary task. From now on pressing <code>cmd-shift-b</code> editor will run our task.\n</p>\n<h2>Creating Custom Task</h2>\n<p>To create custom task, add following template structure in the <code>.vscode/tasks.json</code> <code>tasks</code> array field:</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"label\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Run tests\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"shell\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"command\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"./scripts/test.sh\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"windows\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-attr\">\"command\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\".\\\\scripts\\\\test.cmd\"</span>\n      <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"group\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"test\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"presentation\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-attr\">\"reveal\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"always\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-attr\">\"panel\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"new\"</span>\n      <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>The task's properties have the following semantic:</p>\n<ul>\n  <li><code>label</code>: The task's label used in the user interface.</li>\n  <li><code>type</code>: The task's type. For a custom task, this can either be shell or process. If shell is specified, the command is interpreted as a shell command (for example: <code>bash</code>, <code>cmd</code>, or <code>PowerShell</code>). If process is specified, the command is interpreted as a process to execute.</li>\n  <li><code>command</code>: The actual command to execute.</li>\n  <li><code>windows</code>: Any Windows specific properties. Will be used instead of the default properties when the command is executed on the Windows operating system.</li>\n  <li><code>group</code>: Defines to which group the task belongs. In the example, it belongs to the test group. Tasks that belong to the test group can be executed by running Run Test Task from the Command Palette.</li>\n  <li><code>presentation</code>: Defines how the task output is handled in the user interface. In this example, the Integrated Terminal showing the output is always revealed and a new terminal is created on every task run.</li>\n  <li><code>options</code>: Override the defaults for cwd (current working directory), env (environment variables), or shell (default shell). Options can be set per task but also globally or per platform. Environment variables configured here can only be referenced from within your task script or process and will not be resolved if they are part of your args, command, or other task attributes.</li>\n  <li><code>runOptions</code>: Defines when and how a task is run.</li>\n</ul>\n<h2>Composing Tasks</h2>\n<p>It is possible to compose <code>tasks</code> combining simple <code>tasks</code> in the task chain using <code>dependsOn</code> property. If you list more than one task in the <code>dependsOn</code> property, they are executed in parallel by default.</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"version\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"2.0.0\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"tasks\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"label\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Client Build\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"command\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"gulp\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"args\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"build\"</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"options\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-attr\">\"cwd\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"${workspaceFolder}/client\"</span>\n      <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"label\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Server Build\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"command\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"gulp\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"args\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"build\"</span><span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"options\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n        <span class=\"hljs-attr\">\"cwd\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"${workspaceFolder}/server\"</span>\n      <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"label\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Build\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"dependsOn\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"Client Build\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"Server Build\"</span><span class=\"hljs-punctuation\">]</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>\n  If you specify <code>\"dependsOrder\": \"sequence\"</code>, then your task dependencies are executed in the order they are listed in <code>dependsOn</code>.\n  Any <code>background/watch</code> tasks used in <code>dependsOn</code> with <code>\"dependsOrder\": \"sequence\"</code> must have a problem matcher that tracks when they are <code>done</code>.\n</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"label\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"One\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"shell\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"command\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"echo Hello \"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"dependsOrder\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"sequence\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"dependsOn\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"Two\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"Three\"</span><span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h2>Output Behavior</h2>\n<p>Sometimes you want to control how the Integrated Terminal panel behaves when running tasks. For instance, you may want to maximize editor space and only look at task output if you think there is a problem. The behavior of the terminal can be controlled using the presentation property of a task. It offers the following properties:</p>\n<ul>\n  <li><code>reveal</code> - Controls whether the Integrated Terminal panel is brought to front. Valid values are:\n    <ul>\n      <li><code>always</code> - The panel is always brought to front. This is the default.</li>\n      <li><code>never</code> - The user must explicitly bring the terminal panel to the front using the View > Terminal command (⌃`).</li>\n      <li><code>silent</code> - The terminal panel is brought to front only if the output is not scanned for errors and warnings.</li>\n    </ul>\n  </li>\n  <li><code>focus</code> - Controls whether the terminal is taking input focus or not. Default is false.</li>\n  <li><code>echo</code> - Controls whether the executed command is echoed in the terminal. Default is true.</li>\n  <li><code>showReuseMessage</code>: Controls whether to show the \"Terminal will be reused by tasks, press any key to close it\" message.</li>\n  <li><code>panel</code> - Controls whether the terminal instance is shared between task runs. Possible values are:\n    <ul>\n      <li><code>shared</code> - The terminal is shared and the output of other task runs are added to the same terminal.</li>\n      <li><code>dedicated</code> - The terminal is dedicated to a specific task. If that task is executed again, the terminal is reused. However, the output of a different task is presented in a different terminal.</li>\n      <li><code>new</code> - Every execution of that task is using a new clean terminal.</li>\n    </ul>\n  </li>\n  <li><code>clear</code> - Controls whether the terminal is cleared before this task is run. Default is false.</li>\n  <li><code>group</code> - Controls whether the task is executed in a specific terminal group using split panes. Tasks in the same group (specified by a string value) will use split terminals to present instead of a new terminal panel.</li>\n</ul>\n<pre><code class=\"hljs language-bash\">{\n  // See https://go.microsoft.com/fwlink/?LinkId=733558\n  // <span class=\"hljs-keyword\">for</span> the documentation about the tasks.json format\n  <span class=\"hljs-string\">\"version\"</span>: <span class=\"hljs-string\">\"2.0.0\"</span>,\n  <span class=\"hljs-string\">\"tasks\"</span>: [\n    {\n      <span class=\"hljs-string\">\"type\"</span>: <span class=\"hljs-string\">\"npm\"</span>,\n      <span class=\"hljs-string\">\"script\"</span>: <span class=\"hljs-string\">\"lint\"</span>,\n      <span class=\"hljs-string\">\"problemMatcher\"</span>: [<span class=\"hljs-string\">\"<span class=\"hljs-variable\">$eslint</span>-stylish\"</span>],\n      <span class=\"hljs-string\">\"presentation\"</span>: {\n        <span class=\"hljs-string\">\"reveal\"</span>: <span class=\"hljs-string\">\"never\"</span>\n      }\n    }\n  ]\n}\n</code></pre>\n<h2>Run Options</h2>\n<p>You can specify a task's run behaviors using the <code>runOptions</code> property:</p>\n<p>\n  <code>reevaluateOnRerun</code>: Controls how variables are evaluated when a task is executed through the <code>Rerun Last Task</code> command. The default is true, meaning that variables will be reevaluated when a task is rerun. When set to false the resolved variable values from the previous run of the task will be used.\n  <code>runOn</code>: Specifies when a task is run.\n  <code>default</code> - The task will only be run when executed through the Run Task command.\n  <code>folderOpen</code> - The task will be run when the containing folder is opened. The first time you open a folder that contains a task with <code>folderOpen</code>, you will be asked if you want to allow tasks to run automatically in that folder. You can change your decision later using the Allow Automatic Tasks in Folder and Disallow Automatic Tasks in Folder commands.\n</p>\n<h2>Processing task output with problem matchers</h2>\n<p>\n  <code>VS Code</code> can process the output from a task with a problem matcher. Problem matchers scan the task output text for known warning or error strings,\n  and report these inline in the editor and in the Problems panel. <code>VS Code</code> ships with several problem matchers <code>in-the-box</code>:\n</p>\n<ul>\n  <li><code>TypeScript</code>: <code>$tsc</code> assumes that file names in the output are relative to the opened folder.</li>\n  <li>TypeScript Watch: <code>$tsc-watch</code> matches problems reported from the <code>tsc</code> compiler when executed in watch mode.</li>\n  <li><code>JSHint</code>: <code>$jshint</code> assumes that file names are reported as an absolute path.</li>\n  <li>JSHint Stylish: <code>$jshint-stylish</code> assumes that file names are reported as an absolute path.</li>\n  <li><code>ESLint</code> Compact: <code>$eslint-compact</code> assumes that file names in the output are relative to the opened folder.</li>\n  <li>ESLint Stylish: <code>$eslint-stylish</code> assumes that file names in the output are relative to the opened folder.</li>\n  <li><code>Go</code>: <code>$go</code> matches problems reported from the go compiler. Assumes that file names are relative to the opened folder.</li>\n  <li><code>CSharp and VB Compiler</code>: <code>$mscompile</code> assumes that file names are reported as an absolute path.</li>\n  <li><code>Lessc compiler</code>: <code>$lessc</code> assumes that file names are reported as absolute path.</li>\n  <li><code>Node Sass compiler</code>: <code>$node-sass</code> assumes that file names are reported as an absolute path.</li>\n</ul>\n<h2>Requesting variables from user</h2>\n<p>To request in task for user input value following syntax can be used:</p>\n<pre><code class=\"hljs language-text\">${input:&#x3C;variableName>}\n</code></pre>\n<p>and <code>variable name</code> should be defined in <code>inputs</code> section of <code>launch.json</code>:</p>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-attr\">\"inputs\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-punctuation\">{</span>\n            <span class=\"hljs-attr\">\"id\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"&#x3C;variable-name>\"</span><span class=\"hljs-punctuation\">,</span>\n            <span class=\"hljs-attr\">\"description\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"variable optional description\"</span><span class=\"hljs-punctuation\">,</span>\n            <span class=\"hljs-attr\">\"default\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"some default value\"</span><span class=\"hljs-punctuation\">,</span>\n            <span class=\"hljs-attr\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"promptString\"</span> <span class=\"hljs-comment\">// type of user request</span>\n        <span class=\"hljs-punctuation\">}</span>\n    <span class=\"hljs-punctuation\">]</span>\n</code></pre>\n<pre><code class=\"hljs language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"label\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"MAKE_MIGRATIONS\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"command\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"dotnet\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"args\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n        <span class=\"hljs-string\">\"ef\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"migrations\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"add\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"${input:migrationName}\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"-p\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"${workspaceFolder}/Immat.Sourcing.Etl.Repository.Postgres/\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"-s\"</span><span class=\"hljs-punctuation\">,</span>\n        <span class=\"hljs-string\">\"${workspaceFolder}/Immat.Sourcing.Etl.Api/\"</span>\n    <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"process\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"problemMatcher\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"$msCompile\"</span>\n  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"inputs\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span>\n          <span class=\"hljs-punctuation\">{</span>\n              <span class=\"hljs-attr\">\"id\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"migrationName\"</span><span class=\"hljs-punctuation\">,</span>\n              <span class=\"hljs-attr\">\"description\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"name of migration file to create\"</span><span class=\"hljs-punctuation\">,</span>\n              <span class=\"hljs-attr\">\"default\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Init\"</span><span class=\"hljs-punctuation\">,</span>\n              <span class=\"hljs-attr\">\"type\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"promptString\"</span>\n          <span class=\"hljs-punctuation\">}</span>\n      <span class=\"hljs-punctuation\">]</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h2>References</h2>\n<ul>\n  <li><a href=\"https://code.visualstudio.com/Docs/editor/tasks\">VS Code Doc on Tasks</a></li>\n</ul>\n"}},"__N_SSG":true}