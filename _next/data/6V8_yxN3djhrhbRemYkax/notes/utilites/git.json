{"pageProps":{"noteKey":["utilites","git"],"note":{"title":"Git Cheatsheet","date":"2022-03-13","content":"\n<h2>Configuration</h2>\n<p>Configuration file placed in <code>~/git/config</code> or <code>~/.gitconfig</code>.</p>\n<p>Configuration ares:</p>\n<ul>\n  <li><code>--gloabal</code> - global configuration, which will take effect on all local repositories</li>\n  <li><code>--local</code> - configuration, relevant only to the current GIT repository</li>\n</ul>\n<p><strong>Setting up user:</strong></p>\n<pre><code class=\"hljs language-bash\">git config --&#x3C;<span class=\"hljs-built_in\">local</span>|global> user.email &#x3C;email>\n</code></pre>\n<p><strong>Setting up default editor:</strong></p>\n<p>Setting for default editor, which will be opened for any git text manipulations, e.g. on commit:</p>\n<pre><code class=\"hljs language-bash\">git config --&#x3C;<span class=\"hljs-built_in\">local</span>|global> core.editor nvim\n</code></pre>\n<p><strong>Configuring remote:</strong></p>\n<p>To configure remote source for GIT repository run:</p>\n<pre><code class=\"hljs language-bash\">git remote add &#x3C;remote-name> &#x3C;remote-repo-url>\n</code></pre>\n<p>To check what is url set for some remote by it's name:</p>\n<pre><code class=\"hljs language-bash\">git remote show origin\n</code></pre>\n<p>Set git repository origin url:</p>\n<pre><code class=\"hljs language-bash\">git remote set-url\n</code></pre>\n<h2>Cloning</h2>\n<p>\n  If you don't want to clone the entire repo it is possible to make a shallow clone.\n  For example to clone only first level of folders:\n</p>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">clone</span> --depth 1\n</code></pre>\n<p>If you want to clone a sub-directory, use <code>git sparse-checkout</code>:</p>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">clone</span> --filter=blob:none --sparse &#x3C;repo-url>\ngit sparse-checkout add &#x3C;folder-path>\n</code></pre>\n<h2>Fetch</h2>\n<h2>Committing</h2>\n<h3>Commit Options</h3>\n<p><strong>Verbose mode:</strong></p>\n<p><code>git commit -v</code> allows to see all the changes, made on commit in opened default editor.</p>\n<p><em>This option is incompatible with <code>-m</code> option</em></p>\n<p><strong>Commit with specified message:</strong></p>\n<p><code>git commit -m \"&#x3C;commit message>\"</code> - create a commit with specified message without opening a default editor</p>\n<p><strong>Commit all:</strong></p>\n<p>\n  <code>git commit -a</code> - stage all modified files and commit them.\n  <em>This will not stage new files</em>\n</p>\n<p><strong>Add new changes to last commit:</strong></p>\n<p>\n  If you have some changes in the repository and want add them to the last commit, use <code>-a</code> flag.\n  <code>git commit --amend</code>\n  <em>Note, that this command will require commit message change</em>\n</p>\n<p>To not change last commit's message add <code>--no-edit</code> flag</p>\n<p><code>amend</code> also allows to change author of commit: <code>git commit --amend --author=\"Author Name &#x3C;email>\"</code></p>\n<h2>Branches</h2>\n<p>In <code>git</code> branch is a pointer to a specific commit.</p>\n<p>\n  To list existing local branches: <code>git branch</code>. <code>*</code> sign shows current branch.\n  To list all existing locals and remote branches run <code>git branch -a</code>.\n  <code>git branch -r</code> displays only remote branches.\n</p>\n<p><strong>Removing branches:</strong></p>\n<p>\n  To remove <strong>local branch</strong> you need to switch to any other, not removing, branch.\n  And then run command: <code>git branch -d &#x3C;branch-name></code> or <code>git branch --delete &#x3C;branch-name></code>.\n</p>\n<p><em>Important to note: to delete branch, it must not contain unmerged changes or unpushed commits.</em></p>\n<p>To force remove of a branch with blocking issues, you can use <code>--delete --force</code> flag or similar <code>-D</code>.</p>\n<p>To remove <strong>remote branch</strong> run: <code>git push &#x3C;remote> -d &#x3C;branch-name></code>.</p>\n<h2>Checkout</h2>\n<p><code>git checkout</code> allows to switch between branches, commits or files.</p>\n<p><strong>Switch branches:</strong></p>\n<p>Switch branches: <code>git checkout &#x3C;branch-name></code> - switch to given branch by it's name.</p>\n<p>To create a new branch use <code>-b</code> flag: <code>git checkout -b &#x3C;new-branch-name></code>.</p>\n<p><code>-f</code> or <code>--force</code> flag allows to change branches if there are conflicting changes exist.</p>\n<p><strong>Checkout on particular commit:</strong></p>\n<p><code>git checkout &#x3C;commit-id></code> switches to some commit by it's given commit id.</p>\n<p><strong>Go to previous branch:</strong></p>\n<p>To switch to previously active branch run:</p>\n<pre><code class=\"hljs language-bash\">git checkout -\n</code></pre>\n<p><strong>Resetting changes:</strong></p>\n<p>\n  To reset uncommitted changes you can use: <code>git checkout -- &#x3C;file-name></code> to reset specific file\n  and <code>git checkout .</code> to reset all uncommitted changes.\n</p>\n<p>To reset commits, which has not yet been pushed:</p>\n<pre><code class=\"hljs language-bash\">git reset &#x3C;option> HEAD~&#x3C;nothing or number of commits to reset>\n</code></pre>\n<p><code>option</code> may be:</p>\n<ul>\n  <li>\n    <code>mixed</code> - this is default. It removes commit and removes it's changes from staged, but preserves them\n    in the working tree\n  </li>\n  <li><code>soft</code> - remove the specified number of commits, and keep them as staged in the index</li>\n  <li><code>hard</code> - completely remove changes of some number of commits</li>\n</ul>\n<p>To reset committed and already pushed changes:</p>\n<pre><code class=\"hljs language-bash\">git revert &#x3C;commit-hash> --no-edit\n</code></pre>\n<p><code>--no-edit</code> - does not force to change commit message</p>\n<h2>Merge Branches</h2>\n<p><strong>Merge with automatic accept of all incoming changes:</strong></p>\n<p>\n  If you need to merge some branch into yours and you know that there will be merge conflicts, but\n  you want to accept all incoming changes automatically:\n</p>\n<pre><code class=\"hljs language-bash\">git merge &#x3C;branch name> --strategy-option &#x3C;strategy option value>\n</code></pre>\n<p>where:</p>\n<ul>\n  <li><code>branch name</code> is name of the branch you want to merge into current</li>\n  <li>\n    <code>strategy option value</code> - <code>ours</code> to ovveride all conflicts with values from current branch and\n    <code>theirs</code> to override all conflicts with values from incoming branch\n  </li>\n</ul>\n<h2>Rebase</h2>\n<p>To rewrite a bunch of commits locally:</p>\n<pre><code class=\"hljs language-bash\">git rebase -i &#x3C;commit <span class=\"hljs-built_in\">hash</span>> <span class=\"hljs-comment\"># where the commit hash is the one before all the changes you want to make</span>\n</code></pre>\n<p>\n  This will open up an interactive prompt where you can select which commits to keep, squash, or delete.\n  You can also change commit messages here. This is very useful when cleaning up typo or linting commits, for example.\n</p>\n<p>Abort rebase until it is not completed:</p>\n<pre><code class=\"hljs language-bash\">git rebase --abort\n</code></pre>\n<h2>Stash</h2>\n<p>\n  <code>stash</code> in <code>git</code> is a special area, where some uncommitted changes may be temporary stored.\n  Stashed changes are available to all branches in the repository.\n</p>\n<p>To add current uncommitted changes to stash run: <code>git stash save \"&#x3C;message>\"</code></p>\n<p>\n  To display available data in stash: <code>git stash list</code>.\n  To check changes inside of a particular stash: <code>git stash show &#x3C;stash-name></code>.\n  <code>-p</code> flag enables display of diff-like changes.\n</p>\n<p>\n  To apply stash data and also keep this data in stash: <code>git stash apply &#x3C;stash-name></code>\n  To apply stash and remove this data from stash: <code>git stash pop &#x3C;stash-name></code>\n</p>\n<p>To remove stash: <code>git stash drop &#x3C;stash-name></code> and to clear all stashes <code>git stash clear</code>.</p>\n<p>Adding the <code>-u</code> option (or <code>--include-untracked</code>) tells <code>git stash</code>to also stash your untracked files.</p>\n<p><strong>Creating new branch from stash:</strong></p>\n<pre><code class=\"hljs language-bash\">git stash branch &#x3C;new-branch-name> &#x3C;stash-name>\n</code></pre>\n<h2>Log</h2>\n<p>\n  To display list of commits there is a <code>git log</code> command, which opens view on last commits.\n  It is possible to use basic Vim commands to navigate this view if you need to see some earlier commits.\n</p>\n<p><strong>Display specific commit:</strong></p>\n<p>\n  To show information about some particular commit there is a <code>git log &#x3C;commit id></code> command.\n  It will display list of commits starting and earlier than specified.\n</p>\n<p><strong>Simple view:</strong></p>\n<p>\n  By default <code>log</code> displays all commit information including <code>SHA</code>, author, date and message.\n  If you don't need all the additional information, displayed by default, you can use <code>git log --oneline</code>.\n  It will display shortened commit id and commit message.\n</p>\n<p><strong>Commit graph:</strong></p>\n<p>Sometimes it is useful to see which branches became sources for our commit history. To see it use <code>git log --graph</code>.</p>\n<p><strong>Commit statistics:</strong></p>\n<p><code>git log --stat</code> will display, which files were modified in the commit, how many lines were modified.</p>\n<p><code>git log --patch</code> of equivalent <code>git log -p</code> will display changes, that were made in the commits.</p>\n<p><strong>Get history of specific fragment:</strong></p>\n<p>To display history of some fragment of particular file:</p>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">log</span> -L&#x3C;start>,&#x3C;end>:&#x3C;file>\n</code></pre>\n<p>where <code>&#x3C;start></code> is a line number to begin inspect and <code>&#x3C;end></code> is a line number to finish inspect.</p>\n<p><code>&#x3C;end></code> - may be also an offset in form of <code>+&#x3C;number></code>, e.g:</p>\n<pre><code class=\"hljs language-bash\">git <span class=\"hljs-built_in\">log</span> -L355:+10,~/repo/file\n</code></pre>\n<h2>Removing Changes Or Reverting</h2>\n<p>To uncommit and un-stage changes but leave these files in the working directory:</p>\n<pre><code class=\"hljs language-bash\">git reset &#x3C;commit-sha>\n</code></pre>\n<p>This will reset your local directory to match the latest commit and discard un-staged changes:</p>\n<pre><code class=\"hljs language-bash\">git reset --hard HEAD\n</code></pre>\n<p>Reset particular file:</p>\n<pre><code class=\"hljs language-bash\">git checkout -- &#x3C;filename>\n</code></pre>\n<p>Undo last commit and rewrite history:</p>\n<pre><code class=\"hljs language-bash\">git reset --hard HEAD~1\n</code></pre>\n<p>Reset last several commits:</p>\n<pre><code class=\"hljs language-bash\">git reset --hard HEAD~n        <span class=\"hljs-comment\"># n is the last n commits</span>\ngit reset --hard &#x3C;commit-sha>  <span class=\"hljs-comment\"># or to a specific commit</span>\n</code></pre>\n<p>There is an important distinction between <code>soft</code>, <code>mixed</code>, and <code>hard</code> resets. Basically:</p>\n<ul>\n  <li>\n    <p><code>--soft</code>: Uncommit changes but leave those changes staged</p>\n  </li>\n  <li>\n    <p><code>--mixed</code> (the default): Uncommit and un-stage changes, but changes are left in the working directory</p>\n  </li>\n  <li>\n    <p><code>--hard</code>: Uncommit, un-stage, and delete changes</p>\n  </li>\n</ul>\n<h3>Clean</h3>\n<p><code>git clean</code> command designed to find and remove all not committed and not staged changes.</p>\n<p><strong>Attributes:</strong></p>\n<ul>\n  <li><code>-d</code> - specifies to remove untracked directories;</li>\n  <li><code>-n</code> / <code>--dry-run</code> - <code>clean</code> will only list files it is going to delete but not really remove them;</li>\n  <li><code>-f</code> / <code>--force</code> - specifies that untracked files will be removed(with no way to restore);</li>\n</ul>\n<p><strong>Examples:</strong></p>\n<p>To list files which will be deleted:</p>\n<pre><code class=\"hljs language-bash\">git clean -n -d\n</code></pre>\n<p>To actually remove these files:</p>\n<pre><code class=\"hljs language-bash\">git clean -f -d\n</code></pre>\n<h2>Showing Difference</h2>\n<p>Show difference:</p>\n<pre><code class=\"hljs language-bash\">git diff --staged <span class=\"hljs-comment\"># for staged changes</span>\ngit diff <span class=\"hljs-comment\"># for un-staged changes</span>\ngit diff branch1..branch2 <span class=\"hljs-comment\"># difference between two branches</span>\n</code></pre>\n<h2>References</h2>\n<ul>\n  <li><a href=\"https://www.freecodecamp.org/news/git-log-command/\">Git log command</a></li>\n  <li><a href=\"https://www.freecodecamp.org/news/git-commit-command-explained/\">Git Commit Command Explained</a></li>\n  <li><a href=\"https://www.freecodecamp.org/news/git-stash-explained/\">Git Stash Explained: How to Temporarily Store Local Changes in Git</a></li>\n  <li><a href=\"https://www.freecodecamp.org/news/git-delete-branch-how-to-remove-a-local-or-remote-branch/\">Git Delete Branch – How to Remove a Local or Remote Branch</a></li>\n</ul>\n"}},"__N_SSG":true}