{"pageProps":{"noteKey":["infrastructure","kubernates","kubernates_dashboard_gui"],"note":{"title":"Kubernetes GUI app","date":"2022-10-25","content":"\n<p>To install dashboard run new pod:</p>\n<pre><code class=\"hljs language-bash\">kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.7.0/aio/deploy/recommended.yaml\n</code></pre>\n<p>Next we need to create user. To do that create two configuration files:</p>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">v1</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">ServiceAccount</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">admin-user</span>\n  <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">kubernetes-dashboard</span>\n</code></pre>\n<pre><code class=\"hljs language-yml\"><span class=\"hljs-attr\">apiVersion:</span> <span class=\"hljs-string\">rbac.authorization.k8s.io/v1</span>\n<span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">ClusterRoleBinding</span>\n<span class=\"hljs-attr\">metadata:</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">admin-user</span>\n<span class=\"hljs-attr\">roleRef:</span>\n  <span class=\"hljs-attr\">apiGroup:</span> <span class=\"hljs-string\">rbac.authorization.k8s.io</span>\n  <span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">ClusterRole</span>\n  <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">cluster-admin</span>\n<span class=\"hljs-attr\">subjects:</span>\n  <span class=\"hljs-bullet\">-</span> <span class=\"hljs-attr\">kind:</span> <span class=\"hljs-string\">ServiceAccount</span>\n    <span class=\"hljs-attr\">name:</span> <span class=\"hljs-string\">admin-user</span>\n    <span class=\"hljs-attr\">namespace:</span> <span class=\"hljs-string\">kubernetes-dashboard</span>\n</code></pre>\n<p>And apply them with <code>kubectl apply -f &#x3C;path_to_config></code></p>\n<p>Following command will create access token:</p>\n<pre><code class=\"hljs language-bash\">kubectl -n kubernetes-dashboard create token admin-user\n</code></pre>\n<p>Dashboard access dashboard need to create proxy:</p>\n<pre><code class=\"hljs language-bash\">kubectl proxy\n</code></pre>\n<p>Dashboard address is <code>http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</code></p>\n<p>Or alternatively make port forwarding:</p>\n<pre><code class=\"hljs language-bash\">kubectl port-forward -n kubernetes-dashboard service/kubernetes-dashboard 8080:443 --address 0.0.0.0\n</code></pre>\n<p>And now dashboard will be accessible by <code>https://&#x3C;cluster-ip>:8080</code></p>\n"}},"__N_SSG":true}