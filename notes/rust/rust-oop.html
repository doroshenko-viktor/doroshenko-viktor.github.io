<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Rust - OOP Features</title><link rel="icon" href="/images/favicon.ico"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/b65b5b41f2379875.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b65b5b41f2379875.css" data-n-g=""/><link rel="preload" href="/_next/static/css/0d9654b911e08999.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0d9654b911e08999.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-85d7488a393e293e.js" defer=""></script><script src="/_next/static/chunks/211-ca3cd870e26e881a.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5B...noteKey%5D-bc6552c3ae1e3718.js" defer=""></script><script src="/_next/static/rEbIxoA2O-xiW5DUZwlG8/_buildManifest.js" defer=""></script><script src="/_next/static/rEbIxoA2O-xiW5DUZwlG8/_ssgManifest.js" defer=""></script><script src="/_next/static/rEbIxoA2O-xiW5DUZwlG8/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><section class="Layout_centeredSection__nmU9U"><ul class="NavigationBar_navbar__CBMoV"><li class="NavigationBar_navitem__LKB5F"><a class="NavigationBar_navitemContent__jEyWq" href="/">Home</a><span class="NavigationBar_separator__qvEVD">|</span></li><li class="NavigationBar_navitem__LKB5F"><button class="NavigationBar_navitemContent__jEyWq">Back</button><span class="NavigationBar_separator__qvEVD">|</span></li></ul><h1 class="NoteFormattedContent_noteTitle__Oi9sD">Rust - OOP Features</h1><article class="NoteFormattedContent_note__8cHeE">
<h2>Traits</h2>
<p>
  It is allowed for different traits to have method definitions with same signatures and also these
  traits may be implements on the same struct. Moreover, this struct can implement method with same
  signature on it's <code>impl</code> block.
</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">trait</span> <span class="hljs-title class_">Pilot</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fly</span>(&#x26;<span class="hljs-keyword">self</span>);
}

<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Wizard</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fly</span>(&#x26;<span class="hljs-keyword">self</span>);
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Human</span>;

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Pilot</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Human</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fly</span>(&#x26;<span class="hljs-keyword">self</span>) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"This is your captain speaking."</span>);
    }
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Wizard</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Human</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fly</span>(&#x26;<span class="hljs-keyword">self</span>) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Up!"</span>);
    }
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Human</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fly</span>(&#x26;<span class="hljs-keyword">self</span>) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"*waving arms furiously*"</span>);
    }
}
</code></pre>
<p>When we try to create <code>Human</code> and run <code>fly</code> method, own <code>Human</code>'s implementation will be called:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">person</span> = Human;
    person.<span class="hljs-title function_ invoke__">fly</span>();
}
<span class="hljs-comment">// will print: "*waving arms furiously*"</span>
</code></pre>
<p>If we need to run implementation of <code>fly</code> from specific trait, we need to call it explicitly:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">person</span> = Human;
    Pilot::<span class="hljs-title function_ invoke__">fly</span>(&#x26;person);
    Wizard::<span class="hljs-title function_ invoke__">fly</span>(&#x26;person);
    person.<span class="hljs-title function_ invoke__">fly</span>();
}
</code></pre>
<h2>Supertraits</h2>
<p><code>Supertraits</code> allow to inherit functionality from another traits. For example:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">use</span> std::fmt;

<span class="hljs-keyword">trait</span> <span class="hljs-title class_">OutlinePrint</span>: fmt::Display {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">outline_print</span>(&#x26;<span class="hljs-keyword">self</span>) {
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">output</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">to_string</span>();
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"></span><span class="hljs-variable">len</span> = output.<span class="hljs-title function_ invoke__">len</span>();
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-string">"*"</span>.<span class="hljs-title function_ invoke__">repeat</span>(len + <span class="hljs-number">4</span>));
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"*{}*"</span>, <span class="hljs-string">" "</span>.<span class="hljs-title function_ invoke__">repeat</span>(len + <span class="hljs-number">2</span>));
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"* {} *"</span>, output);
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"*{}*"</span>, <span class="hljs-string">" "</span>.<span class="hljs-title function_ invoke__">repeat</span>(len + <span class="hljs-number">2</span>));
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"{}"</span>, <span class="hljs-string">"*"</span>.<span class="hljs-title function_ invoke__">repeat</span>(len + <span class="hljs-number">4</span>));
    }
}
</code></pre>
<p>
  <code>OutlinePrint</code> extends functionality of <code>fmt::Display</code> trait so it is possible to use <code>self.to_string</code>
  inside of it's methods.
</p>
<p>But we still need to implement <code>fmt::Display</code> to make it work:</p>
<pre><code class="hljs language-rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> {
    x: <span class="hljs-type">i32</span>,
    y: <span class="hljs-type">i32</span>,
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">OutlinePrint</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Point</span> {}

<span class="hljs-keyword">use</span> std::fmt;

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">fmt</span>::Display <span class="hljs-keyword">for</span> <span class="hljs-title class_">Point</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fmt</span>(&#x26;<span class="hljs-keyword">self</span>, f: &#x26;<span class="hljs-keyword">mut</span> fmt::Formatter) <span class="hljs-punctuation">-></span> fmt::<span class="hljs-type">Result</span> {
        <span class="hljs-built_in">write!</span>(f, <span class="hljs-string">"({}, {})"</span>, <span class="hljs-keyword">self</span>.x, <span class="hljs-keyword">self</span>.y)
    }
}
</code></pre>
<h2>References</h2>
<ul>
  <li><a href="https://doc.rust-lang.org/stable/book/ch19-03-advanced-traits.html">Advanced Traits</a></li>
</ul>
</article></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"noteKey":["rust","rust-oop"],"note":{"title":"Rust - OOP Features","date":"2022-03-02","content":"\n\u003ch2\u003eTraits\u003c/h2\u003e\n\u003cp\u003e\n  It is allowed for different traits to have method definitions with same signatures and also these\n  traits may be implements on the same struct. Moreover, this struct can implement method with same\n  signature on it's \u003ccode\u003eimpl\u003c/code\u003e block.\n\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-rust\"\u003e\u003cspan class=\"hljs-keyword\"\u003etrait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePilot\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efly\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-keyword\"\u003etrait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eWizard\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efly\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHuman\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003eimpl\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePilot\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHuman\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efly\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e) {\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"This is your captain speaking.\"\u003c/span\u003e);\n    }\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eimpl\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eWizard\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHuman\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efly\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e) {\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"Up!\"\u003c/span\u003e);\n    }\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eimpl\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eHuman\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efly\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e) {\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"*waving arms furiously*\"\u003c/span\u003e);\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhen we try to create \u003ccode\u003eHuman\u003c/code\u003e and run \u003ccode\u003efly\u003c/code\u003e method, own \u003ccode\u003eHuman\u003c/code\u003e's implementation will be called:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-rust\"\u003e\u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003emain\u003c/span\u003e() {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003e\u003c/span\u003e\u003cspan class=\"hljs-variable\"\u003eperson\u003c/span\u003e = Human;\n    person.\u003cspan class=\"hljs-title function_ invoke__\"\u003efly\u003c/span\u003e();\n}\n\u003cspan class=\"hljs-comment\"\u003e// will print: \"*waving arms furiously*\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eIf we need to run implementation of \u003ccode\u003efly\u003c/code\u003e from specific trait, we need to call it explicitly:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-rust\"\u003e\u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003emain\u003c/span\u003e() {\n    \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003e\u003c/span\u003e\u003cspan class=\"hljs-variable\"\u003eperson\u003c/span\u003e = Human;\n    Pilot::\u003cspan class=\"hljs-title function_ invoke__\"\u003efly\u003c/span\u003e(\u0026#x26;person);\n    Wizard::\u003cspan class=\"hljs-title function_ invoke__\"\u003efly\u003c/span\u003e(\u0026#x26;person);\n    person.\u003cspan class=\"hljs-title function_ invoke__\"\u003efly\u003c/span\u003e();\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eSupertraits\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003eSupertraits\u003c/code\u003e allow to inherit functionality from another traits. For example:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-rust\"\u003e\u003cspan class=\"hljs-keyword\"\u003euse\u003c/span\u003e std::fmt;\n\n\u003cspan class=\"hljs-keyword\"\u003etrait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOutlinePrint\u003c/span\u003e: fmt::Display {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eoutline_print\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003e\u003c/span\u003e\u003cspan class=\"hljs-variable\"\u003eoutput\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e.\u003cspan class=\"hljs-title function_ invoke__\"\u003eto_string\u003c/span\u003e();\n        \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003e\u003c/span\u003e\u003cspan class=\"hljs-variable\"\u003elen\u003c/span\u003e = output.\u003cspan class=\"hljs-title function_ invoke__\"\u003elen\u003c/span\u003e();\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"{}\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"*\"\u003c/span\u003e.\u003cspan class=\"hljs-title function_ invoke__\"\u003erepeat\u003c/span\u003e(len + \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e));\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"*{}*\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\" \"\u003c/span\u003e.\u003cspan class=\"hljs-title function_ invoke__\"\u003erepeat\u003c/span\u003e(len + \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e));\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"* {} *\"\u003c/span\u003e, output);\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"*{}*\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\" \"\u003c/span\u003e.\u003cspan class=\"hljs-title function_ invoke__\"\u003erepeat\u003c/span\u003e(len + \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e));\n        \u003cspan class=\"hljs-built_in\"\u003eprintln!\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"{}\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"*\"\u003c/span\u003e.\u003cspan class=\"hljs-title function_ invoke__\"\u003erepeat\u003c/span\u003e(len + \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e));\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\n  \u003ccode\u003eOutlinePrint\u003c/code\u003e extends functionality of \u003ccode\u003efmt::Display\u003c/code\u003e trait so it is possible to use \u003ccode\u003eself.to_string\u003c/code\u003e\n  inside of it's methods.\n\u003c/p\u003e\n\u003cp\u003eBut we still need to implement \u003ccode\u003efmt::Display\u003c/code\u003e to make it work:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-rust\"\u003e\u003cspan class=\"hljs-keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePoint\u003c/span\u003e {\n    x: \u003cspan class=\"hljs-type\"\u003ei32\u003c/span\u003e,\n    y: \u003cspan class=\"hljs-type\"\u003ei32\u003c/span\u003e,\n}\n\n\u003cspan class=\"hljs-keyword\"\u003eimpl\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eOutlinePrint\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePoint\u003c/span\u003e {}\n\n\u003cspan class=\"hljs-keyword\"\u003euse\u003c/span\u003e std::fmt;\n\n\u003cspan class=\"hljs-keyword\"\u003eimpl\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003efmt\u003c/span\u003e::Display \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePoint\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efmt\u003c/span\u003e(\u0026#x26;\u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e, f: \u0026#x26;\u003cspan class=\"hljs-keyword\"\u003emut\u003c/span\u003e fmt::Formatter) \u003cspan class=\"hljs-punctuation\"\u003e-\u003e\u003c/span\u003e fmt::\u003cspan class=\"hljs-type\"\u003eResult\u003c/span\u003e {\n        \u003cspan class=\"hljs-built_in\"\u003ewrite!\u003c/span\u003e(f, \u003cspan class=\"hljs-string\"\u003e\"({}, {})\"\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e.x, \u003cspan class=\"hljs-keyword\"\u003eself\u003c/span\u003e.y)\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eReferences\u003c/h2\u003e\n\u003cul\u003e\n  \u003cli\u003e\u003ca href=\"https://doc.rust-lang.org/stable/book/ch19-03-advanced-traits.html\"\u003eAdvanced Traits\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"}},"__N_SSG":true},"page":"/notes/[...noteKey]","query":{"noteKey":["rust","rust-oop"]},"buildId":"rEbIxoA2O-xiW5DUZwlG8","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>